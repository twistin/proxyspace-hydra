// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// ğŸ§ª TEST DE CONEXIÃ“N OSC
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

// 1. Verificar que hydraAddr existe
(
if(topEnvironment[\hydraAddr].notNil, {
    "âœ… hydraAddr configurado: %".format(topEnvironment[\hydraAddr]).postln;
}, {
    "âŒ ERROR: hydraAddr NO configurado".postln;
    "Ejecuta primero el bloque de setup de tu sesiÃ³n".postln;
});
)

// 2. Test de envÃ­o manual
(
if(topEnvironment[\hydraAddr].notNil, {
    "ğŸ“¤ Enviando /kick...".postln;
    topEnvironment[\hydraAddr].sendMsg("/kick");
    "âœ… Mensaje enviado".postln;
}, {
    "âŒ No se puede enviar, hydraAddr no configurado".postln;
});
)

// 3. Test de envÃ­o mÃºltiple (cada 2 segundos)
(
~testTask = Task({
    10.do({ arg i;
        "ğŸ“¤ Test %/10 - Enviando /kick".format(i+1).postln;
        topEnvironment[\hydraAddr].sendMsg("/kick");
        2.wait;
    });
    "âœ… Test completado".postln;
}).play;
)

// Detener test
~testTask.stop;

// 4. Test de todos los mensajes
(
if(topEnvironment[\hydraAddr].notNil, {
    "ğŸ“¤ Enviando /kick".postln;
    topEnvironment[\hydraAddr].sendMsg("/kick");
    
    1.wait;
    "ğŸ“¤ Enviando /bass_level 0.5".postln;
    topEnvironment[\hydraAddr].sendMsg("/bass_level", 0.5);
    
    1.wait;
    "ğŸ“¤ Enviando /melody_note 0.7".postln;
    topEnvironment[\hydraAddr].sendMsg("/melody_note", 0.7);
    
    1.wait;
    "ğŸ“¤ Enviando /texture 0.3".postln;
    topEnvironment[\hydraAddr].sendMsg("/texture", 0.3);
    
    "âœ… Todos los mensajes enviados".postln;
}.fork;
)

// 5. Monitorear mensajes salientes (debug)
OSCFunc.trace(true);  // Activar trace
OSCFunc.trace(false); // Desactivar trace
